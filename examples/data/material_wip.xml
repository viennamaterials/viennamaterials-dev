<database>
  <material>
    <id>test-material</id>
    <category>testing</category>
    
    <attribute>
      <id>float-scalar</id>
      <scalar type='float'>9.9</scalar>
      <unit>W</unit>
    </attribute>
    
    <attribute>
      <id>int-scalar</id>
      <scalar type='int'>22</scalar>
      <unit>W</unit>
    </attribute>
    
    <attribute>
      <id>bool-scalar</id>
      <scalar type='bool'>true</scalar>
      <unit>W</unit>
    </attribute>
    
    <attribute>
      <id>float-function-multiply</id>
      <function>
        <code lang='python' call='func'>
          def func(x,y):
            return x*y
        </code>
        <arg>
          <id>0</id>
          <quantity>x-value</quantity>
          <scalar type='float'>2.0</scalar>
        </arg>
        <arg>
          <id>1</id>
          <quantity>y-value</quantity>
          <scalar type='float'>0.25</scalar>
        </arg>
        <return>
          <scalar type='float'/>
        </return>
      </function>
      <unit>A</unit>
    </attribute>
    
    <attribute>
      <id>int-function-add</id>
      <function>
        <code lang='python' call='add'>
          def add(x):
            return x+1000
        </code>
        <arg>
          <id>0</id>
          <quantity>factor</quantity>
          <scalar type='int'>2</scalar>
        </arg>
        <return>
          <scalar type='int'/>
        </return>
      </function>
      <unit>A</unit>
    </attribute>
    
    <attribute>
      <id>float-function-references</id>
      <function>
        <code lang='python' call='func'>
          def func(a, condition, b, c, d):
            print 'Hello! This is the Python backend.'
            if condition:
              print '  bool  ref is: TRUE'
            else:
              print '  bool  ref is: FALSE'
            print '  int   ref is: {0}'.format(b)
            print '  float ref is: {0}'.format(c)
            print '  func  ref is: {0}'.format(d)
            return a*1000
        </code>
        <arg>
          <id>0</id>
          <quantity>a</quantity>
          <scalar type='float'>3.0</scalar>
        </arg>
        <arg>
          <id>1</id>
          <reference>/*/*[id='test-material']/*[id='bool-scalar']</reference>
        </arg>
        <arg>
          <id>2</id>
          <reference>/*/*[id='test-material']/*[id='int-scalar']</reference>
        </arg>
        <arg>
          <id>3</id>
          <reference>/*/*[id='test-material']/*[id='float-scalar']</reference>
        </arg>
        <arg>
          <id>4</id>
          <reference>/*/*[id='test-material']/*[id='int-function-add']</reference>
        </arg>
        <return>
          <scalar type='float'/>
        </return>
      </function>
      <unit>A</unit>
    </attribute>
    
  </material>
</database>